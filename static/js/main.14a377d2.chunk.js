(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){var a;window,e.exports=(a=n(22),function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=a},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"success",function(e){var n={latitude:e.coords.latitude,longitude:e.coords.longitude};t.checkSunPosition(n.latitude,n.longitude),t.settings.cache&&localStorage.setItem("location",JSON.stringify(n))}),l(this,"error",function(e){"function"==typeof t.settings.onDenied&&t.settings.onDenied(),document.dispatchEvent(new CustomEvent("smartDarkError",{detail:e}))}),this.settings=this.settings(n),this.time(),this.settings.auto&&this.auto(!0),this.theme()}return function(e,t,n){t&&r(e.prototype,t)}(e,[{key:"time",value:function(){this.today=new Date;var e=(new Date).setHours(24,0,0,0);localStorage.time?localStorage.location&&this.today.getTime()>JSON.parse(localStorage.time)&&(localStorage.removeItem("time"),this.settings.cacheClear&&(localStorage.removeItem("location"),"function"==typeof this.settings.onCacheClear&&this.settings.onCacheClear())):localStorage.setItem("time",JSON.stringify(e))}},{key:"theme",value:function(){"true"===localStorage.dark?this.dark():this.light()}},{key:"auto",value:function(e){(e&&!localStorage.auto||!e)&&(localStorage.setItem("auto",!0),"function"==typeof this.settings.onAuto&&this.settings.onAuto()),"geolocation"in navigator&&this.myLocation()}},{key:"myLocation",value:function(){if(localStorage.location){var e=JSON.parse(localStorage.location);this.checkSunPosition(e.latitude,e.longitude)}else navigator.geolocation.getCurrentPosition(this.success,this.error)}},{key:"checkSunPosition",value:function(e,t){var n=new o.a.getTimes(this.today,e,t),a={sunrise:n.sunrise,sunset:n.sunsetStart,latitude:e,longitude:t};document.dispatchEvent(new CustomEvent("smartDark",{detail:a})),JSON.parse(localStorage.auto)&&(this.today.getTime()>n.sunrise.getTime()&&this.today.getTime()<n.sunsetStart.getTime()?this.light():this.dark())}},{key:"reset",value:function(){localStorage.clear(),"function"==typeof this.settings.onReset&&this.settings.onReset()}},{key:"light",value:function(){"function"==typeof this.settings.onLight&&this.settings.onLight(),this.isDark=!1,this.settings.lightClass&&document.body.classList.add(this.settings.lightClass),document.body.classList.remove(this.settings.darkClass),localStorage.setItem("dark",!1)}},{key:"dark",value:function(){"function"==typeof this.settings.onDark&&this.settings.onDark(),this.isDark=!0,this.settings.lightClass&&document.body.classList.remove(this.settings.lightClass),document.body.classList.add(this.settings.darkClass),localStorage.setItem("dark",!0)}},{key:"toggle",value:function(){"function"==typeof this.settings.onToggle&&this.settings.onToggle(),this.isDark?this.light():this.dark(),localStorage.setItem("auto",!1)}},{key:"settings",value:function(e){var t={lightClass:"",darkClass:"dark",cache:!0,cacheClear:!0,auto:!0,onAuto:null,onLight:null,onDark:null,onToggle:null,onDenied:null,onCacheClear:null,onReset:null},n={};for(var a in t)n[a]=a in e?e[a]:t[a];return n}}]),e}();t.default=i}]))},15:function(e,t,n){e.exports=n(28)},20:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),l=n.n(r),i=(n(20),n(8)),s=n(9),c=n(13),u=n(10),m=n(14),g=n(11),d=n.n(g),h=n(3),f=n(12),p=n(2),v=function(){document.querySelector("body").classList.add("animate"),setTimeout(function(){return document.querySelector("body").classList.remove("animate")},300)},E=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={values:null,dark:null},n.toggle=function(){return n.night.toggle()},n.smart=function(){return n.night.auto()},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("smartDark",function(t){var n=o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"smartDark event output"),o.a.createElement("div",null,o.a.createElement("span",null,"Latitude"),": ",t.detail.latitude),o.a.createElement("div",null,o.a.createElement("span",null,"Longitude"),": ",t.detail.longitude),o.a.createElement("div",null,o.a.createElement("span",null,"Sunrise"),": ",t.detail.sunrise.toString()),o.a.createElement("div",null,o.a.createElement("span",null,"Sunset"),": ",t.detail.sunset.toString()));e.setState({values:n})}),document.addEventListener("smartDarkError",function(t){var n=o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,t.detail.message),o.a.createElement("p",null,"To use smart dark mode enable geolocation"));e.setState({values:n})}),this.night=new d.a({onToggle:function(){return v()},onAuto:function(){return v()},onLight:function(){return e.setState({dark:!1})},onDark:function(){return e.setState({dark:!0})}})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"inputs"},o.a.createElement("a",{href:"https://github.com/JB1905/night.js"},o.a.createElement("button",null,o.a.createElement(p.a,{icon:f.a}),o.a.createElement("span",null,"See on GitHub"))),o.a.createElement("button",{onClick:this.toggle},this.state.dark?o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{icon:h.f}),o.a.createElement("span",null,"Go light")):o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{icon:h.d}),o.a.createElement("span",null,"Go dark"))),o.a.createElement("button",{onClick:this.smart},o.a.createElement(p.a,{icon:h.c}),o.a.createElement("span",null,"Smart switch"))),o.a.createElement("div",{className:"output"},this.state.values))}}]),t}(a.Component),y=function(){return o.a.createElement("header",null,o.a.createElement("h1",null,"night.js"),o.a.createElement("h2",null,"Smart dark mode switcher (based on location and time)"),o.a.createElement(E,null))},k=(n(25),function(){return o.a.createElement("section",null,o.a.createElement("h3",null,o.a.createElement(p.a,{icon:h.a}),"How to Install"),o.a.createElement("p",{className:"light"},"At the beginning connect the library with Your project:"),o.a.createElement("p",{className:"heavy"},"\u2022 using script tag in HTML:"),o.a.createElement("pre",{className:"language-html"},o.a.createElement("code",null,'<script src="/directory/to/library/folder/night.js"><\/script>')),o.a.createElement("p",{className:"heavy"},"\u2022 or via command line:"),o.a.createElement("pre",{className:"language-javascript"},o.a.createElement("code",null,"$ npm install night.js"),o.a.createElement("br",null),o.a.createElement("code",null,"$ yarn add night.js")),o.a.createElement("h3",null,o.a.createElement(p.a,{icon:h.e}),"Getting Started"),o.a.createElement("pre",{className:"language-javascript"},o.a.createElement("code",null,"const Night = require('night.js'); // CommonJS"),o.a.createElement("br",null),o.a.createElement("code",null,"import Night from 'night.js'; // ES6")),o.a.createElement("p",{className:"light"},"Next use library with"),o.a.createElement("p",{className:"heavy"},"\u2022 Vanilla JavaScript e.g:"),o.a.createElement("pre",{className:"language-javascript"},o.a.createElement("code",null,"const night = new Night({"),o.a.createElement("br",null),o.a.createElement("code",null,"  //"," options..."),o.a.createElement("br",null),o.a.createElement("code",null,"});")),o.a.createElement("h3",null,o.a.createElement(p.a,{icon:h.b}),"Functions"),o.a.createElement("p",{className:"heavy"},"\u2022 Switch between light and dark mode:"),o.a.createElement("pre",{className:"language-javascript"},o.a.createElement("code",null,"night.toggle();")),o.a.createElement("p",{className:"heavy"},"\u2022 Switch mode automatically (based on time, location and sun position):"),o.a.createElement("pre",{className:"language-javascript"},o.a.createElement("code",null,"night.auto();")),o.a.createElement("p",{className:"heavy"},"\u2022 Reset localStorage data:"),o.a.createElement("pre",{className:"language-javascript"},o.a.createElement("code",null,"night.reset();")))}),b=(n(26),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function S(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(o.a.createElement(function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(y,null),o.a.createElement(k,null))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");b?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):S(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):S(t,e)})}}()}},[[15,2,1]]]);